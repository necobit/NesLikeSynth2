M5StackのCardputerでMIDIを受信したらファミコン（NES）の音源の音を出すシンセサイザーを作ります。
Arduino言語で作り、M5UnifiedとMIDIライブラリを使用します。
1chから16chのMIDIを受信して音を出すことができます。
Program Changeの1が矩形波、2が25%パルス波、3が12.5%パルス波、4が擬似三角波、5が長周期ノイズ、6が短周期ノイズです。
Control Change（以降CCと省略する）7（ボリューム）とCC11（エクスプレッション）で音量を変更できる。
CC7とCC11以外に、マスターボリュームとしてプログラム側から音量変更ができる。
和音は16和音まで出せる。
波形形状の参考資料　https://www.dtmstation.com/archives/51892536.html
音量のエンベロープを設定できる。CC73でアタックタイム、CC75でディケイタイム、CC72でリリースタイム。
ピッチベンド対応。
ピッチベンドレンジを2から24の範囲で変更できる。


ファミコンの矩形波、25%パルス波、12.5%パルス波、擬似三角波、長周期ノイズ、短周期ノイズ
の音色を持つライブラリを作って、起動時に順番に440Hzで500msec音を出して止まるコードを書いて
波形形状の参考資料　https://www.dtmstation.com/archives/51892536.html


https://www.nesdev.org/wiki/APU